# üßæ Annotation Cheat Sheet for PLGA Nanoparticle Dataset
*(For Ground Truth correction of weak labels generated by auto_extract_weak_labels_v3.py)*

---

## üîß General Principles

- **One row = One independent formulation / experiment group.**
- **Annotators edit only `gt.*` columns.**  
  Do **not** modify `pred.*` columns (they represent LLM outputs used for scoring).
- Leave cells **blank** if the value is missing; or use:
  - `ND` = Not Determined
  - `NA` = Not Applicable
  - `UNK` = Unknown / Ambiguous
- Do **not manually calculate** derived values (like volume ratios or loading efficiencies).  
  The system will generate `*_derived` automatically.

---

## üß© When LLM Merges or Misses Groups

| Case | Description | What to Do in `gt.*` | Example |
|------|--------------|----------------------|----------|
| **‚ë† Merged A+B experiments in one row** | LLM combined results from two formulations (e.g., `size_nm = 180, 220`, `EE = 75`). | Keep only **A‚Äôs real data** in the same row. Do not edit `pred.*`. | `gt.size_nm = 180`, `gt.EE = ""`<br>`note = "Pred merged A+B; only A kept."` |
| **‚ë° Need to add group B separately** | You want dataset to include both A and B. | Duplicate the row. In the new one, fill B‚Äôs real values; copy `pred.*` from A or leave blank. | Row 1 ‚Üí A; Row 2 ‚Üí B |
| **‚ë¢ Unclear how to split (ambiguous)** | LLM gave merged info, but original paper unclear. | Keep one row. Leave `gt.*` empty or `UNK`, add `note = "Ambiguous data; cannot separate A/B."` |  |

---

## ‚öóÔ∏è Missing or Partial Data

| Scenario | Action |
|-----------|---------|
| Reported only size (no loading efficiency) | Keep one row, fill size, leave EE blank. |
| Reported only EE (no size data) | Keep one row, fill EE, leave size blank. |
| Multiple parameters vary, but not reported together | Separate them into multiple formulations. |
| Control or blank sample (no PLGA or no drug) | Still add a formulation with the correct conditions, mark `note = "control"` or `gt.drug_name = NA`. |

---

## üßÆ Ratio and Volume Fields

| Type | Example Entry | Notes |
|------|----------------|-------|
| Ratios | `50:50`, `50‚à∂50`, or `'50:50` | Avoid Excel time-format issue by using Unicode `‚à∂` or leading `'`. |
| Volume fields | `1 mL`, `2.5 ¬µL`, or numeric only (`1.0`) | Keep original units if available; normalization handled later. |
| Derived fields | Leave blank | They will be computed by code (e.g., `*_derived` columns). |

---

## üî¨ Experimental Group Logic

| Case | Correct Strategy |
|------|------------------|
| **Varying PVA concentration (0.5%, 1%, 2%)** | Each PVA value = one row (formulation). |
| **Varying PLGA MW (20k, 50k, 100k)** | Each MW = one row. |
| **Varying solvent type or emulsification method** | Separate rows per condition. |
| **No drug / with drug** | Two formulations (control vs. loaded). |
| **Drug combination (PTX + siRNA)** | Still one formulation if co-loaded under same conditions. |
| **Different temperatures or sonication times** | One row per distinct set of parameters. |

---

## üß† Pred vs GT Logic Summary

| Purpose | `pred.*` | `gt.*` |
|----------|-----------|--------|
| Represents LLM weak label | ‚úÖ Keep unchanged (used for precision/recall) | ‚ùå Don‚Äôt edit |
| Represents corrected human truth | ‚ùå Leave blank | ‚úÖ Fill true values |
| New formulation (not in LLM) | Leave `pred.*` empty or copy | Fill `gt.*` with true values |
| Ambiguous / uncertain | Keep `pred.*`, leave `gt.*` empty or `UNK` | Add note |

---

## üí¨ Notes Column (Strongly Recommended)

Use `note` or `derived_notes` to record context or uncertainty, e.g.:

```text
Pred merged size and EE from two experiments; corrected manually.
Only size data available (no drug loading reported).
EE reported for PTX-loaded particles only; size not given.
